{
    "name": "blueplanet hybrid",
    "category": "Inverter",
    "group": "KACO",
    "description": "KACO blueplanet hybrid 10.0 TL3 inverter",

    "devices": [
        {
            "name": "<node>",
            "description": "Inverter",
            "driver": "edcom",
			"address": "ip:<ip>",
            "settings": "user:<user>,cert:<cert>"
        },
        {
            "name": "<node>*ctrl",
            "description": "Inverter control",
            "driver": "virtual"
        }
    ],

    "options": [
        {
            "id": "ip",
            "name": "IP address",
            "description": "The IP address of the KACO product, a connection should be established to.",
            "type": "text",
            "mandatory": true
        },
        {
            "id": "user",
            "name": "User name",
            "description": "The user name for the EDCOM library.",
            "type": "text",
            "mandatory": true
        },
        {
            "id": "cert",
            "name": "Certificate",
            "description": "The certificate for the EDCOM library",
            "type": "text",
            "mandatory": true
        }
    ],

    "items": [
        {
            "id": "dc",
            "type": "Text",
            "label": "DC power",
            "format": "%.1f kW",
            "scale": 0.001,
            "input": "<node>*dc*power"
        },
        {
            "id": "setpoint",
            "type": "Slider",
            "label": "Export/Import",
            "format": "%.1f kW",
            "max": 10000,
            "min": -10000,
            "step": 500,
            "scale": 0.001,
            "default": 0,
            "mapping": {
                "SET": { "channel": "<node>*ctrl*setpoint", "write":false }
            },
            "input": "<node>*ctrl*setpoint",
			"node": "<node>*ctrl"
        }
    ],

    "channels": [
        {
            "name": "<node>*dc*power",
            "description": "Inverter DC power",
            "device": "<node>",
            "address": "DC_POWER",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"W"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 10, "average": true, "engine":"SQL",
                "feed": {"name": "Power DC", "tag": "Inverter"}
            }
        },
        {
            "name": "<node>*dc1*voltage",
            "description": "Inverter DC1 voltage",
            "device": "<node>",
            "address": "DC_1_VOLTAGE",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"V"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 0.01, "average": true, "engine":"SQL",
                "feed": {"name": "Voltage DC1", "tag": "Inverter"}
            }
        },
        {
            "name": "<node>*dc2*voltage",
            "description": "Inverter DC2 voltage",
            "device": "<node>",
            "address": "DC_2_VOLTAGE",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"V"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 0.01, "average": true, "engine":"SQL",
                "feed": {"name": "Voltage DC2", "tag": "Inverter"}
            }
        },
        {
            "name": "<node>*ac*voltage",
            "description": "Grid voltage",
            "device": "<node>",
            "address": "GRID_VOLTAGE",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"V"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 0.01, "average": true, "engine":"SQL",
                "feed": {"name": "Voltage", "tag": "Inverter"}
            }
        },
        {
            "name": "<node>*ac*frequency",
            "description": "Grid frequency",
            "device": "<node>",
            "address": "GRID_FREQUENCY",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"Hz"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 0.01, "average": true, "engine":"SQL",
                "feed": {"name": "Frequency", "tag": "Inverter"}
            }
        },
        {
            "name": "<node>*ac*active",
            "description": "Grid active power",
            "device": "<node>",
            "address": "GRID_ACTIVE_POWER",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"W"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 10, "average": true, "engine":"SQL",
                "feed": {"name": "Power active", "tag": "Inverter"}
            }
        },
        {
            "name": "<node>*ac*reactive",
            "description": "Grid reactive power",
            "device": "<node>",
            "address": "GRID_REACTIVE_POWER",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"Var"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 10, "average": true, "engine":"SQL",
                "feed": {"name": "Power reactive", "tag": "Inverter"}
            }
        },
        {
            "name": "<node>*ac*setpoint",
            "description": "Inverter setpoint",
            "device": "<node>",
            "address": "INV_SETPOINT",
            "configs": {"valueType":"DOUBLE", "unit":"W"}
        },
        {
            "name": "<node>*setpoint",
            "description": "Inverter control setpoint",
            "device": "<node>*ctrl",
            "configs": {"samplingInterval": 5000, "valueType":"DOUBLE", "unit":"W"},
            "logging": {"loggingInterval": 5000, "loggingMaxInterval": 60000, "loggingTolerance": 0.1, "average": true, "engine":"SQL",
                "feed": {"name": "Power setpoint", "tag": "Inverter"}
            }
        }
    ],

    "feeds": [
        {
            "name": "Power DC",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_dc_power",
            "unit": "W"
        },
        {
            "name": "Energy DC",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_dc_energy",
            "unit": "kWh"
        },
        {
            "name": "Voltage DC1",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_dc1_voltage",
            "unit": "V"
        },
        {
            "name": "Voltage DC2",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_dc2_voltage",
            "unit": "V"
        },
        {
            "name": "Power active",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_ac_active",
            "unit": "W"
        },
        {
            "name": "Power reactive",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_ac_reactive",
            "unit": "Var"
        },
        {
            "name": "Power setpoint",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_ac_setpoint",
            "unit": "W"
        },
        {
            "name": "Voltage",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_ac_voltage",
            "unit": "V"
        },
        {
            "name": "Frequency",
            "tag": "Inverter",
            "type": "DataType::REALTIME",
            "engine": "Engine::MYSQL",
            "table": "<node>_ac_frequency",
            "unit": "Hz"
        }
    ]
}
